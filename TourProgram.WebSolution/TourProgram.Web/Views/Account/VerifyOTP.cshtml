@model TourProgram.Web.Models.Login.VerifyOTPModel;

@{
    Layout = null;
}


<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.css" integrity="sha512-UTNP5BXLIptsaj5WdKFrkFov94lDx+eBvbKyoe1YAfjeRPC+gT5kyZ10kOHCfNZqEui1sxmqvodNUx3KbuYI/A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://uat.dfccil.cetpainfotech.com/css/custom/login/login.css" rel="stylesheet" />
    <style>
        .otp {
            gap: 10px;
        }

            .otp input {
                width: 11% !important;
            }

        .btn-class {
            text-align: center;
        }

            .btn-class button {
                font-size: 14px;
                font-weight: normal;
            }

        .form-control:disabled {
            background-color: #c5c5c5 !important;
        }
        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Firefox */
        input[type=number] {
            -moz-appearance: textfield;
        }

        #otp {
        }
    </style>
</head>
<body>
    <div class="overflow-hidden">
        <div class="center-cont">
            <div class="">
                <div class="row form-mb-row">
                    <div class="col-md-5">
                        <div class="container form-cont">
                            <h2 class="mb-3 form-head" align="center">Verify OTP Code</h2>
                            <form class="row g-3 needs-validation" method="post">
                                <div class="col-md-12" id="otp">
                                    <div class="d-flex justify-content-center otp mb-3">
                                        <span asp-validation-for="OtpCode1" style="color: #dc3545;font-size: 21px;"></span>
                                        <span asp-validation-for="OtpCode2" style="color: #dc3545;font-size: 21px;"></span>
                                        <span asp-validation-for="OtpCode3" style="color: #dc3545;font-size: 21px;"></span>
                                        <span asp-validation-for="OtpCode4" style="color: #dc3545;font-size: 21px;"></span>
                                        <span asp-validation-for="OtpCode5" style="color: #dc3545;font-size: 21px;"></span>
                                        <span asp-validation-for="OtpCode6" style="color: #dc3545;font-size: 21px;"></span>

                                        <input type="text" class="form-control email-otp-input" asp-for="OtpCode1" pattern="\d" maxlength="1" required>
                                        <input type="text" class="form-control email-otp-input" asp-for="OtpCode2" pattern="\d" maxlength="1" required >
                                        <input type="text" class="form-control email-otp-input" asp-for="OtpCode3" pattern="\d" maxlength="1" required >
                                        <input type="text" class="form-control email-otp-input" asp-for="OtpCode4" pattern="\d" maxlength="1" required >
                                        <input type="text" class="form-control email-otp-input" asp-for="OtpCode5" pattern="\d" maxlength="1" required >
                                        <input type="text" class="form-control email-otp-input" asp-for="OtpCode6" pattern="\d" maxlength="1" required >

                                    </div>

                                </div>

                                <div class="col-md-12 btn-class">
                                    <button class="btn btn-primary btn2" type="submit">Verify OTP</button>
                                </div>
                                <h4 style="color: #dc3545;font-size: 21px;">@TempData["InivalidOtpCode"]</h4>
                                <h4 style="color: green;font-size: 21px;">@TempData["SentMessage"]</h4>
                                <input name="__RequestVerificationToken" type="hidden" value="CfDJ8LGCJgpItmZLlcjKw94L_FS2bU_tZCrJfMbp_EyEfgfSw7u6vJAiyg5vdfe7nZJawX3mnMwkcaL624pDSswJHqsZfuitG-Y719Ihn6CYkPul-7gpLykfi37QLPDdEObKni6wDRGCpgM__CnPDhzuo6w" />
                            </form>

                        </div>

                        <div class="row dsk-hide mt-5 mb-2">
                            <div class="col-md-12 text-center">
                                <div class="footer">
                                    <p>Copyright ,  <a href="https://dfccil.com/Home/DynemicPages?MenuId=154" target="_blank">@@; 2023 DFCCIL</a></p>
                                    <p>Government of India, All Rights Reserved <a href="https://dfccil.com/" target="_blank">DFCCIL</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7" style="position: relative;">
                        <div class="container">
                            <div>
                                <div>
                                    <div class="row p-4 align-items-center">
                                        <div class="col-md-2">
                                            <div class="logo">
                                                <img src="https://uat.dfccil.cetpainfotech.com/images/logo.png">
                                            </div>
                                        </div>
                                        <div class="col-md-10">
                                            <div style="display: inline-block;">
                                                <h2 class="line-1 anim-typewriter">DFCCIL Latest Updates</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row owl-carousel owl-carousel5 owl-theme center-cont2">
                                    <div class="img-cont" href="#one!">
                                        <img src="https://dfccil.com/images/uploads/img/Train-trial-in-Rewari-Dadri-section-31.03.2023_YIH7.png">
                                    </div>

                                    <div class="img-cont" href="#two!">
                                        <img src="https://dfccil.com/images/uploads/img/Hon'ble-Prime-Minister-Sh.-Narendra-Modi-inaugurated-Rewari---Madar-section-(306-km)-of-WDFC._7OXS.jpg">
                                    </div>

                                    <div class="img-cont" href="#four!">
                                        <img src="https://dfccil.com/images/uploads/img/Bhestan-Sanjan_QSTL.jpg">
                                    </div>

                                    <div class="img-cont" href="#five!">
                                        <img src="https://dfccil.com/images/uploads/img/Trial-run-of-freight-train-in-Madar-New-Palanpur-section-(353-km)-of-WDFC-was-conducted-on-31.03.2021._TM9Y.jpg">
                                    </div>

                                    <div class="img-cont" href="#five!">
                                        <img src="https://dfccil.com/images/uploads/img/Trial-Run-started-in-Khurja-Bhadan-section-(194-km)-of-EDFC._SDZX.jpg">
                                    </div>

                                </div>
                                <div class="mb-hide" style="position: absolute; left: 0;bottom: 25px;width: 100%;">
                                    <div class="row">
                                        <div class="col-md-12 text-center">
                                            <div class="footer">
                                                <p>Copyright ,  <a href="https://dfccil.com/Home/DynemicPages?MenuId=154" target="_blank">&#169; 2023 DFCCIL</a></p>
                                                <p>Government of India, All Rights Reserved <a href="https://dfccil.com/" target="_blank">DFCCIL</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
            integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://uat.dfccil.cetpainfotech.com/customjs/login/login.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var otpInputs = document.querySelectorAll(".otp-input");
            var emailOtpInputs = document.querySelectorAll(".email-otp-input");

            function setupOtpInputListeners(inputs) {
                inputs.forEach(function (input, index) {
                    input.addEventListener("paste", function (ev) {
                        var clip = ev.clipboardData.getData('text').trim();
                        if (!/^\d{6}$/.test(clip)) {
                            ev.preventDefault();
                            return;
                        }

                        var characters = clip.split("");
                        inputs.forEach(function (otpInput, i) {
                            otpInput.value = characters[i] || "";
                        });

                        enableNextBox(inputs[0], 0);
                        inputs[5].removeAttribute("disabled");
                        inputs[5].focus();
                        updateOTPValue(inputs);
                    });

                    input.addEventListener("input", function () {
                        var currentIndex = Array.from(inputs).indexOf(this);
                        var inputValue = this.value.trim();

                        if (!/^\d$/.test(inputValue)) {
                            this.value = "";
                            return;
                        }

                        if (inputValue && currentIndex < 5) {
                            inputs[currentIndex + 1].removeAttribute("disabled");
                            inputs[currentIndex + 1].focus();
                        }

                        if (currentIndex === 4 && inputValue) {
                            inputs[5].removeAttribute("disabled");
                            inputs[5].focus();
                        }

                        updateOTPValue(inputs);
                    });

                    input.addEventListener("keydown", function (ev) {
                        var currentIndex = Array.from(inputs).indexOf(this);

                        if (!this.value && ev.key === "Backspace" && currentIndex > 0) {
                            inputs[currentIndex - 1].focus();
                        }
                    });
                });
            }

            function enableNextBox(input, currentIndex) {
                var inputValue = input.value;

                if (inputValue === "") {
                    return;
                }

                var nextIndex = currentIndex + 1;
                var nextBox = otpInputs[nextIndex] || emailOtpInputs[nextIndex];

                if (nextBox) {
                    nextBox.removeAttribute("disabled");
                }
            }

            function updateOTPValue(inputs) {
                var otpValue = "";

                inputs.forEach(function (input) {
                    otpValue += input.value;
                });

                if (inputs === otpInputs) {
                    document.getElementById("verificationCode").value = otpValue;
                } else if (inputs === emailOtpInputs) {
                    document.getElementById("emailverificationCode").value = otpValue;
                }
            }

            setupOtpInputListeners(otpInputs);
            setupOtpInputListeners(emailOtpInputs);

            otpInputs[0].focus(); // Set focus on the first OTP input field
            emailOtpInputs[0].focus(); // Set focus on the first email OTP input field

            otpInputs[5].addEventListener("input", function () {
                updateOTPValue(otpInputs);
            });

            emailOtpInputs[5].addEventListener("input", function () {
                updateOTPValue(emailOtpInputs);
            });
        });
    </script>


</body>
</html>

