<div class="col-12 grid-margin">
    <div class="card">
        <div class="card-body">
            <h4 class="text-primary mb-5">
                Advance Request Form
            </h4>
            <form class="form-sample">

                <div class="row">


                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Select Member</label>
                            <div class="col-sm-8">
                                <select class="form-control">
                                    <option>Anil(Selef)</option>
                                    <option>Sweta(Spouse)</option>
                                    <option>
                                        Ishan(Son)
                                    </option>
                                    <option>Ishita(Daughter)</option>
                                    <option>Ravindra(Father)</option>
                                    <option>Saroj(Mother)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Hospital Name</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control">
                            </div>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Hospital Reg No</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Doctor Name</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control">
                            </div>
                        </div>
                    </div>
                </div>
                <hr />

                <h4 class="text-primary mb-5">
                    Additional Details
                </h4>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>
                                    Type
                                </th>
                                <th>
                                    Comments
                                </th>
                                <th>
                                    Documents
                                </th>
                                <th>
                                    File
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="py-1">
                                    Diagnosis
                                </td>
                                <td>
                                    Herman Beck
                                </td>
                                <td>
                                    <a href="#" class="btn-modal-triger" onclick="TrigerModalUploadFile('Diagnosis')">
                                        <i class="fa fa-upload" aria-hidden="true"></i>
                                    </a>
                                </td>
                                <td>
                                    <a href="#">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </a>
                                </td>

                            </tr>
                            <tr>
                                <td class="py-1">
                                    Admission Advice
                                </td>
                                <td>
                                    Herman Beck
                                </td>
                                <td>
                                    <a href="#" class="btn-modal-triger" onclick="TrigerModalUploadFile('Admission Advice')">
                                        <i class="fa fa-upload" aria-hidden="true"></i>
                                    </a>
                                </td>
                                <td>
                                    <a href="">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </a>
                                </td>

                            </tr>
                            <tr>
                                <td class="py-1">
                                    Estimate Amount
                                </td>
                                <td>
                                    <input type="text" class="form-control col-sm-4" style="padding:12px; height:30px" value="0.00" />
                                </td>
                                <td>
                                    <a href="#" class="btn-modal-triger" onclick="TrigerModalUploadFile('Estimate Amount')">
                                        <i class="fa fa-upload" aria-hidden="true"></i>
                                    </a>
                                </td>
                                <td>
                                    <a href="#">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </a>
                                </td>

                            </tr>
                            <tr>
                                <td class="py-1">
                                    Advance Required
                                </td>
                                <td>
                                    <input type="text" class="form-control col-sm-4" style="padding:12px; height:30px" value="0.00" />
                                </td>
                                <td>
                                    <a href="#" class="btn-modal-triger" onclick="TrigerModalUploadFile('Advance Required')">
                                        <i class="fa fa-upload" aria-hidden="true"></i>
                                    </a>
                                </td>
                                <td>
                                    <a href="#">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </a>
                                </td>

                            </tr>

                        </tbody>
                    </table>
                </div>
                <hr />
                <div style="float:right">
                    <button type="submit" class="btn btn-primary mb-2">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<script>
    $(document).ready(function () {

    });
    function TrigerModalUploadFile(type) {

        $("#myModal").modal('show');
        $('#myModalTitle').html(type);
        $('#spnComment').html(type);
        return false;

    }

</script>


<style>
    .bs-example {
        margin: 20px;
    }

    .modal .modal-dialog .modal-content .modal-body {
        padding: 0px 13px;
    }
    /* .modal-content{
                width:800px!important;
            } */
    @@media (min-width: 576px) {
        .modal-dialog {
            max-width: 686px;
            margin: auto;
        }
    }

    .modal .modal-dialog {
        margin-top: 12px;
    }

    .img-thumbs {
        background: #eee;
        border: 1px solid #ccc;
        border-radius: 0.25rem;
        margin: 1.5rem 0;
        padding: 0.75rem;
    }

    .img-thumbs-hidden {
        display: none;
    }

    .wrapper-thumb {
        position: relative;
        display: inline-block;
        margin: 1rem 0;
        justify-content: space-around;
    }

    .img-preview-thumb {
        background: #fff;
        border: 1px solid none;
        border-radius: 0.25rem;
        box-shadow: 0.125rem 0.125rem 0.0625rem rgba(0, 0, 0, 0.12);
        margin-right: 1rem;
        max-width: 140px;
        padding: 0.25rem;
    }

    .remove-btn {
        position: absolute;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: .7rem;
        top: -5px;
        right: 10px;
        width: 20px;
        height: 20px;
        background: white;
        border-radius: 10px;
        font-weight: bold;
        cursor: pointer;
    }

        .remove-btn:hover {
            box-shadow: 0px 0px 3px grey;
            transition: all .3s ease-in-out;
        }
</style>


<div class="bs-example">


    <!-- Modal HTML -->
    <div id="myModal" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="myModalTitle">Modal Title</h5>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form action="" method="post" enctype="multipart/form-data" id="form-upload">
                        <div class="form-group mt-5">
                            <label for="">Choose Images</label>
                            <input type="file" class="form-control" name="images[]" multiple id="upload-img" />
                            <br />
                            <label for=""><span id="spnComment"></span> Comment</label>
                            <textarea class="form-control" id="exampleTextarea1" rows="4"></textarea>
                        </div>
                        <div class="img-thumbs img-thumbs-hidden" id="img-preview"></div>
                        <button type="button" class="btn btn-primary mb-2">Upload</button>

                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>
                                            S.NO
                                        </th>
                                        <th>
                                            Category
                                        </th>
                                        <th>
                                            Remarks
                                        </th>
                                        <th>
                                            File
                                        </th>
                                        <th>
                                            Action
                                        </th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="py-1">
                                            1
                                        </td>
                                        <td>
                                            Diagnosis
                                        </td>
                                        <td>
                                            ...........
                                        </td>
                                        <td>
                                            <i class="fa fa-file-pdf-o filepdfFontAwesome" aria-hidden="true"></i>
                                        </td>

                                        <td>
                                            <i class="fa fa-trash trashFontAwesome" aria-hidden="true"></i>
                                        </td>

                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    @* <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button> *@
                    <button type="submit" class="btn btn-primary mb-2" id="btnUploadSubmit">Submit</button>

                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var imgUpload = document.getElementById('upload-img')
        , imgPreview = document.getElementById('img-preview')
        , imgUploadForm = document.getElementById('form-upload')
        , totalFiles
        , previewTitle
        , previewTitleText
        , img;

    imgUpload.addEventListener('change', previewImgs, true);

    function previewImgs(event) {
        totalFiles = imgUpload.files.length;

        if (!!totalFiles) {
            imgPreview.classList.remove('img-thumbs-hidden');
        }

        for (var i = 0; i < totalFiles; i++) {
            wrapper = document.createElement('div');
            wrapper.classList.add('wrapper-thumb');
            removeBtn = document.createElement("span");
            nodeRemove = document.createTextNode('x');
            removeBtn.classList.add('remove-btn');
            removeBtn.appendChild(nodeRemove);
            img = document.createElement('img');
            img.src = URL.createObjectURL(event.target.files[i]);
            img.classList.add('img-preview-thumb');
            wrapper.appendChild(img);
            wrapper.appendChild(removeBtn);
            imgPreview.appendChild(wrapper);

            $('.remove-btn').click(function () {
                $(this).parent('.wrapper-thumb').remove();
            });

        }


    }

    $('#btnUploadSubmit').click(function () {
        window.location.href = '/home/AdvanceRequest';
    })
</script>